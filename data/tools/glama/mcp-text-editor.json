[
    {
        "name": "text-editor_get_text_file_contents",
        "description": "Read text file contents from multiple files and line ranges. Returns file contents with hashes for concurrency control and line numbers for reference. The hashes are used to detect conflicts when editing the files. File paths must be absolute.",
        "parameters": {
            "type": "object",
            "properties": {
                "files": {
                    "type": "array",
                    "description": "List of files and their line ranges to read",
                    "items": {
                        "type": "object",
                        "properties": {
                            "file_path": {
                                "type": "string",
                                "description": "Path to the text file. File path must be absolute."
                            },
                            "ranges": {
                                "type": "array",
                                "description": "List of line ranges to read from the file",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "start": {
                                            "type": "integer",
                                            "description": "Starting line number (1-based)"
                                        },
                                        "end": {
                                            "type": [
                                                "integer",
                                                "null"
                                            ],
                                            "description": "Ending line number (null for end of file)"
                                        }
                                    },
                                    "required": [
                                        "start"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "file_path",
                            "ranges"
                        ]
                    }
                },
                "encoding": {
                    "type": "string",
                    "description": "Text encoding (default: 'utf-8')",
                    "default": "utf-8"
                }
            },
            "required": [
                "files"
            ]
        }
    },
    {
        "name": "text-editor_edit_text_file_contents",
        "description": "A line editor that supports editing text file contents by specifying line ranges and content. It handles multiple patches in a single operation with hash-based conflict detection. File paths must be absolute. IMPORTANT: (1) Before using this tool, you must first get the file's current hash and range hashes and line numbers using get_text_file_contents. (2) To avoid line number shifts affecting your patches, use get_text_file_contents to read the SAME ranges you plan to edit before making changes. different line numbers have different rangehashes.(3) Patches must be specified from bottom to top to handle line number shifts correctly, as edits to lower lines don't affect the line numbers of higher lines. (4) To append content to a file, first get the total number of lines with get_text_file_contents, then specify a patch with line_start = total_lines + 1 and line_end = total_lines. This indicates an append operation and range_hash is not required. Similarly, range_hash is not required for new file creation.",
        "parameters": {
            "type": "object",
            "properties": {
                "files": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "path": {
                                "type": "string",
                                "description": "Path to the text file. File path must be absolute."
                            },
                            "file_hash": {
                                "type": "string",
                                "description": "Hash of the file contents when get_text_file_contents is called."
                            },
                            "patches": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "line_start": {
                                            "type": "integer",
                                            "default": 1,
                                            "description": "Starting line number (1-based). it should be matched with the start line number when get_text_file_contents is called."
                                        },
                                        "line_end": {
                                            "type": [
                                                "integer",
                                                "null"
                                            ],
                                            "default": null,
                                            "description": "Ending line number (null for end of file). it should be matched with the end line number when get_text_file_contents is called."
                                        },
                                        "contents": {
                                            "type": "string"
                                        },
                                        "range_hash": {
                                            "type": "string",
                                            "description": "Hash of the content being replaced from line_start to line_end (required except for new files and append operations)"
                                        }
                                    },
                                    "required": [
                                        "contents"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "path",
                            "file_hash",
                            "patches"
                        ]
                    }
                },
                "encoding": {
                    "type": "string",
                    "description": "Text encoding (default: 'utf-8')",
                    "default": "utf-8"
                }
            },
            "required": [
                "files"
            ]
        }
    }
]