[
    {
        "name": "taskflow_plan_task",
        "description": "Register a new user request and plan its associated tasks. You must provide 'originalRequest' and 'tasks', and optionally 'splitDetails'.\n\nTasks can now include subtasks, which are smaller units of work that make up a task. All subtasks must be completed before a task can be marked as done.\n\nYou can also include:\n- 'dependencies': List of project or task-specific dependencies (libraries, tools, etc.)\n- 'notes': General notes about the project (preferences, guidelines, etc.)\n- 'outputPath': Path to save a Markdown file with the task plan for reference. It's recommended to use absolute paths (e.g., 'C:/Users/username/Documents/task-plan.md') rather than relative paths for more reliable file creation.\n\nThis tool initiates a new workflow for handling a user's request. The workflow is as follows:\n1. Use 'plan_task' to register a request and its tasks (with optional subtasks, dependencies, and notes).\n2. After adding tasks, you MUST use 'get_next_task' to retrieve the first task. A progress table will be displayed.\n3. Use 'get_next_task' to retrieve the next uncompleted task.\n4. If the task has subtasks, complete each subtask using 'mark_subtask_done' before marking the task as done.\n5. **IMPORTANT:** After marking a task as done, a progress table will be displayed showing the updated status of all tasks. The assistant MUST NOT proceed to another task without the user's approval. Ask the user for approval before proceeding.\n6. Once the user approves the completed task, you can proceed to 'get_next_task' again to fetch the next pending task.\n7. Repeat this cycle until all tasks are done.\n8. After all tasks are completed, 'get_next_task' will indicate that all tasks are done. At this point, ask the user for confirmation that the entire request has been completed satisfactorily.\n9. If the user wants more tasks, you can use 'add_tasks_to_request' or 'plan_task' to add new tasks and continue the cycle.\n\nThe critical point is to always wait for user approval after completing each task and after all tasks are done. Do not proceed automatically, UNLESS the user has explicitly told you to continue with all tasks and that you do not need approval.",
        "parameters": {
            "type": "object",
            "properties": {
                "originalRequest": {
                    "type": "string"
                },
                "splitDetails": {
                    "type": "string"
                },
                "outputPath": {
                    "type": "string"
                },
                "dependencies": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "name": {
                                "type": "string"
                            },
                            "version": {
                                "type": "string"
                            },
                            "url": {
                                "type": "string"
                            },
                            "description": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "name"
                        ]
                    }
                },
                "notes": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "title": {
                                "type": "string"
                            },
                            "content": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "title",
                            "content"
                        ]
                    }
                },
                "tasks": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "title": {
                                "type": "string"
                            },
                            "description": {
                                "type": "string"
                            },
                            "dependencies": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "url": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "name"
                                    ]
                                }
                            },
                            "subtasks": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "title": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "title",
                                        "description"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "title",
                            "description"
                        ]
                    }
                }
            },
            "required": [
                "originalRequest",
                "tasks"
            ]
        }
    },
    {
        "name": "taskflow_get_next_task",
        "description": "Given a 'requestId', return the next pending task (not done yet). If all tasks are completed, it will indicate that no more tasks are left and that you must ask the user what to do next.\n\nA progress table showing the current status of all tasks will be displayed with each response.\n\nIf the same task is returned again or if no new task is provided after a task was marked as done, you MUST NOT proceed. In such a scenario, you must prompt the user for approval before calling 'get_next_task' again. Do not skip the user's approval step.\nIn other words:\n- After calling 'mark_task_done', do not call 'get_next_task' again until the user has given approval for the completed task.\n- If 'get_next_task' returns 'all_tasks_done', it means all tasks have been completed. At this point, confirm with the user that all tasks have been completed, and optionally add more tasks via 'add_tasks_to_request' or 'plan_task'.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                }
            },
            "required": [
                "requestId"
            ]
        }
    },
    {
        "name": "taskflow_mark_task_done",
        "description": "Mark a given task as done after you've completed it. Provide 'requestId' and 'taskId', and optionally 'completedDetails'.\n\nAfter marking a task as done, a progress table will be displayed showing the updated status of all tasks.\n\nAfter this, DO NOT proceed to 'get_next_task' again until the user has explicitly approved the completed task. Ask the user for approval before continuing.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "completedDetails": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "taskId"
            ]
        }
    },
    {
        "name": "taskflow_open_task_details",
        "description": "Get details of a specific task by 'taskId'. This is for inspecting task information at any point.",
        "parameters": {
            "type": "object",
            "properties": {
                "taskId": {
                    "type": "string"
                }
            },
            "required": [
                "taskId"
            ]
        }
    },
    {
        "name": "taskflow_list_requests",
        "description": "List all requests with their basic information and summary of tasks. This provides a quick overview of all requests in the system.",
        "parameters": {
            "type": "object",
            "properties": {}
        }
    },
    {
        "name": "taskflow_add_tasks_to_request",
        "description": "Add new tasks to an existing request. This allows extending a request with additional tasks.\n\nTasks can include subtasks and dependencies. A progress table will be displayed showing all tasks including the newly added ones.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "tasks": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "title": {
                                "type": "string"
                            },
                            "description": {
                                "type": "string"
                            },
                            "dependencies": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "url": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "name"
                                    ]
                                }
                            },
                            "subtasks": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "title": {
                                            "type": "string"
                                        },
                                        "description": {
                                            "type": "string"
                                        }
                                    },
                                    "required": [
                                        "title",
                                        "description"
                                    ]
                                }
                            }
                        },
                        "required": [
                            "title",
                            "description"
                        ]
                    }
                }
            },
            "required": [
                "requestId",
                "tasks"
            ]
        }
    },
    {
        "name": "taskflow_update_task",
        "description": "Update an existing task's title and/or description. Only uncompleted tasks can be updated.\n\nA progress table will be displayed showing the updated task information.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "taskId"
            ]
        }
    },
    {
        "name": "taskflow_delete_task",
        "description": "Delete a specific task from a request. Only uncompleted tasks can be deleted.\n\nA progress table will be displayed showing the remaining tasks after deletion.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "taskId"
            ]
        }
    },
    {
        "name": "taskflow_add_subtasks",
        "description": "Add subtasks to an existing task. Provide 'requestId', 'taskId', and 'subtasks' array.\n\nSubtasks are smaller units of work that make up a task. All subtasks must be completed before a task can be marked as done.\n\nA progress table will be displayed showing the updated task with its subtasks.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "subtasks": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "title": {
                                "type": "string"
                            },
                            "description": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "title",
                            "description"
                        ]
                    }
                }
            },
            "required": [
                "requestId",
                "taskId",
                "subtasks"
            ]
        }
    },
    {
        "name": "taskflow_mark_subtask_done",
        "description": "Mark a subtask as done. Provide 'requestId', 'taskId', and 'subtaskId'.\n\nA progress table will be displayed showing the updated status of all tasks and subtasks.\n\nAll subtasks must be completed before a task can be marked as done.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "subtaskId": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "taskId",
                "subtaskId"
            ]
        }
    },
    {
        "name": "taskflow_update_subtask",
        "description": "Update a subtask's title or description. Provide 'requestId', 'taskId', 'subtaskId', and optionally 'title' and/or 'description'.\n\nOnly uncompleted subtasks can be updated.\n\nA progress table will be displayed showing the updated task with its subtasks.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "subtaskId": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "description": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "taskId",
                "subtaskId"
            ]
        }
    },
    {
        "name": "taskflow_delete_subtask",
        "description": "Delete a subtask from a task. Provide 'requestId', 'taskId', and 'subtaskId'.\n\nOnly uncompleted subtasks can be deleted.\n\nA progress table will be displayed showing the updated task with its remaining subtasks.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "subtaskId": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "taskId",
                "subtaskId"
            ]
        }
    },
    {
        "name": "taskflow_export_task_status",
        "description": "Export the current status of all tasks in a request to a file.\n\nThis tool saves the current state of tasks, subtasks, dependencies, and notes to a file for reference.\n\nYou can specify:\n- 'format': 'markdown', 'json', or 'html'\n- 'outputPath': Full path to save the file, or just a directory path\n- 'filename': Optional custom filename (auto-generated if not provided)\n\nPath handling:\n- If outputPath is a directory, filename will be auto-generated as '{project-name}_tasks.{ext}'\n- If outputPath includes filename, it will be used as-is\n- Relative paths are resolved from current working directory\n- If no path specified, saves to current working directory",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "outputPath": {
                    "type": "string",
                    "description": "Directory or full file path where to save the export"
                },
                "filename": {
                    "type": "string",
                    "description": "Optional custom filename (auto-generated if not provided)"
                },
                "format": {
                    "type": "string",
                    "enum": [
                        "markdown",
                        "json",
                        "html"
                    ],
                    "default": "markdown"
                }
            },
            "required": [
                "requestId"
            ]
        }
    },
    {
        "name": "taskflow_add_note",
        "description": "Add a note to a request. Notes can contain important information about the project, such as user preferences or guidelines.\n\nNotes are displayed in the task progress table and can be referenced when working on tasks.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "content": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "title",
                "content"
            ]
        }
    },
    {
        "name": "taskflow_update_note",
        "description": "Update an existing note's title or content.\n\nProvide the 'requestId' and 'noteId', and optionally 'title' and/or 'content' to update.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "noteId": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "content": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "noteId"
            ]
        }
    },
    {
        "name": "taskflow_delete_note",
        "description": "Delete a note from a request.\n\nProvide the 'requestId' and 'noteId' of the note to delete.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "noteId": {
                    "type": "string"
                }
            },
            "required": [
                "requestId",
                "noteId"
            ]
        }
    },
    {
        "name": "taskflow_add_dependency",
        "description": "Add a dependency to a request or task.\n\nDependencies can be libraries, tools, or other requirements needed for the project or specific tasks.\n\nIf 'taskId' is provided, the dependency will be added to that specific task. Otherwise, it will be added to the request.",
        "parameters": {
            "type": "object",
            "properties": {
                "requestId": {
                    "type": "string"
                },
                "taskId": {
                    "type": "string"
                },
                "dependency": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "version": {
                            "type": "string"
                        },
                        "url": {
                            "type": "string"
                        },
                        "description": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "name"
                    ]
                }
            },
            "required": [
                "requestId",
                "dependency"
            ]
        }
    }
]